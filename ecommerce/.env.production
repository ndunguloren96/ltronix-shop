# ecommerce/.env (For Production - Example for Render)
# This file contains environment variables for your Django backend.
# These values should be set securely in your Render.com environment variables.

# --- Core Django Settings ---
DJANGO_SECRET_KEY=7tb6bt765rvi8o9iv7fb795s56
DEBUG=False
DJANGO_ENVIRONMENT=production
RELEASE_VERSION=1.0.0

# --- Database Settings (Render PostgreSQL) ---
# Render typically provides a DATABASE_URL environment variable automatically.
# You might not need to set individual DATABASE_NAME, USER, etc. if DATABASE_URL is used.
DATABASE_URL=YOUR_RENDER_POSTGRES_DATABASE_URL # Example: postgresql://user:96221919@host:port/dbname

# --- Celery/Redis (AWS ElastiCache for Production) ---
# Use your production Redis URL
CELERY_BROKER_URL="rediss://Itronix-redis-cache.fwfp68d.serverless.use1.cache.amazonaws.com:6379/0"
CELERY_RESULT_BACKEND="rediss://Itronix-redis-cache.fwfp68d.serverless.use1.cache.amazonaws.com:6379/0"

# --- M-Pesa Settings (Production Credentials) ---
# Use your live M-Pesa credentials for production.
MPESA_CONSUMER_KEY=YOUR_PRODUCTION_MPESA_CONSUMER_KEY
MPESA_CONSUMER_SECRET=YOUR_PRODUCTION_MPESA_CONSUMER_SECRET
MPESA_EXPRESS_SHORTCODE=YOUR_PRODUCTION_MPESA_EXPRESS_SHORTCODE
MPESA_PASSKEY=YOUR_PRODUCTION_MPESA_PASSKEY
MPESA_ENV=production # Set to 'production' for live M-Pesa
MPESA_SHORTCODE=YOUR_PRODUCTION_MPESA_SHORTCODE # Your live M-Pesa shortcode

# CRITICAL: Production M-Pesa callback URL (your deployed Render backend URL)
MPESA_CALLBACK_URL=https://https://ltronix-shop.onrender.com/mpesa/stk_push_callback/

# --- Email Settings (SendGrid for Production) ---
DEFAULT_FROM_EMAIL=noreply@ltronix-shop.com
SENDGRID_API_KEY=YOUR_SENDGRID_API_KEY # Your actual SendGrid API key
EMAIL_BACKEND=anymail.backends.sendgrid.EmailBackend # Use SendGrid in production
EMAIL_HOST=smtp.sendgrid.net # Standard SendGrid SMTP host
EMAIL_PORT=587 # Standard SendGrid SMTP port
EMAIL_USE_TLS=True # Use TLS for production email
EMAIL_HOST_USER=apikey # SendGrid username is 'apikey'
EMAIL_HOST_PASSWORD=YOUR_SENDGRID_API_KEY # SendGrid password is your API key

# --- Sentry (Production DSN) ---
SENTRY_DSN="https://4212a72316d9ba7ca5100b47a0b37fa3@o4509555378356225.ingest.us.sentry.io/4509564238430208"

# --- CORS & CSRF (Allow Vercel frontend origin) ---
CORS_ALLOWED_ORIGINS=https://ltronix-shop.vercel.app
CSRF_TRUSTED_ORIGINS=https://ltronix-shop.vercel.app
CSRF_COOKIE_SECURE=True # MUST be True in production (HTTPS)
SESSION_COOKIE_SECURE=True # MUST be True in production (HTTPS)

# --- Django Auth (Password Reset URL for Vercel frontend) ---
DJANGO_PASSWORD_RESET_CONFIRM_URL=https://ltronix-shop.vercel.app/auth/password-reset-confirm/{uid}/{token}

# --- Social Auth (Google OAuth2 Redirect URI for deployed Render backend) ---
SOCIAL_AUTH_GOOGLE_OAUTH2_KEY=YOUR_PRODUCTION_GOOGLE_CLIENT_ID # Use production Google Client ID
SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET=YOUR_PRODUCTION_GOOGLE_CLIENT_SECRET # Use production Google Client Secret
# This must point to your deployed Django backend's social auth complete endpoint.
SOCIAL_AUTH_GOOGLE_OAUTH2_REDIRECT_URI=https://https://ltronix-shop.onrender.com/api/auth/complete/google-oauth2/
SOCIAL_AUTH_REDIRECT_IS_HTTPS=True # MUST be True in production (HTTPS)

