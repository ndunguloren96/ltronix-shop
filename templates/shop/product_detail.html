{% extends "shop/base.html" %} {% block shop_content %}
<div class="product-detail">
  <img
    src="{{ product.image.url }}"
    alt="{{ product.name }}"
    class="product-image" />
  <h2>{{ product.name }}</h2>
  <p>{{ product.description }}</p>
  <p>Price: ${{ product.price }}</p>
  <p>Stock: {{ product.stock }}</p>
  <form method="post" action="{% url 'shop:add_to_cart' product.id %}">
    {% csrf_token %}
    <label for="quantity">Quantity:</label>
    <input
      type="number"
      name="quantity"
      id="quantity"
      value="1"
      min="1"
      max="{{ product.stock }}" />
    <button type="submit" class="btn">Add to Cart</button>
  </form>
  <a href="{% url 'shop:index' %}" class="btn">Continue Shopping</a>
  <div class="reviews">
    <h3>Reviews</h3>
    {% for review in product.reviews.all %}
    <div class="review">
      <strong>{{ review.user.username }}</strong> - {{ review.rating }}/5
      <p>{{ review.comment }}</p>
    </div>
    {% empty %}
    <p>No reviews yet.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
